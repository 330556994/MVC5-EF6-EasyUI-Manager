@model Apps.Models.Flow.Flow_FormContentModel
@using Apps.Common;
@using Apps.Models.Flow;
@using Apps.Web.Core;
@using Apps.Models.Sys;
@using Apps.Locale;
@{
    ViewBag.Title = "创建";
    Layout = "~/Views/Shared/_Index_Layout.cshtml";
    List<permModel> perm = null;
}

<script>
    $(function () {
        $("*[name='AttrA']").val("@Model.AttrA");
        $("*[name='AttrB']").val("@Model.AttrB");
        $("*[name='AttrC']").val("@Model.AttrC");
        $("*[name='AttrD']").val("@Model.AttrD");
        $("*[name='AttrE']").val("@Model.AttrE");
        $("*[name='AttrF']").val("@Model.AttrF");
        $("*[name='AttrG']").val("@Model.AttrG");
        $("*[name='AttrH']").val("@Model.AttrH");
        $("*[name='AttrI']").val("@Model.AttrI");
        $("*[name='AttrJ']").val("@Model.AttrJ");
        $("*[name='AttrK']").val("@Model.AttrK");
        $("*[name='AttrL']").val("@Model.AttrL");
        $("*[name='AttrM']").val("@Model.AttrM");
        $("*[name='AttrN']").val("@Model.AttrN");
        $("*[name='AttrO']").val("@Model.AttrO");
        $("*[name='AttrP']").val("@Model.AttrP");
        $("*[name='AttrQ']").val("@Model.AttrQ");
        $("*[name='AttrR']").val("@Model.AttrR");
        $("*[name='AttrS']").val("@Model.AttrS");
        $("*[name='AttrT']").val("@Model.AttrT");
        $("*[name='AttrU']").val("@Model.AttrU");
        $("*[name='AttrV']").val("@Model.AttrV");
        $("*[name='AttrW']").val("@Model.AttrW");
        $("*[name='AttrX']").val("@Model.AttrX");
        $("*[name='AttrY']").val("@Model.AttrY");
        $("*[name='AttrZ']").val("@Model.AttrZ");

            //获得最低的input对于整个高层的高度
            var maxTop = new Array();
            var topValue = 0;
            var topValueHeight = 0;
            $(".easyui-draggable").each(function (i) {
                var currentValue = parseInt($(this).css("top").replace("px", ""));
                maxTop.push(currentValue);
                if (currentValue >= Math.max.apply(Math, maxTop)) {
                    topValueHeight = $(this).height();
                }
            });
            topValue = Math.max.apply(Math, maxTop);
            //设置高度来改变美观度
            $("#setFormLayout").height(topValue + topValueHeight + 20);
            $('.easyui-draggable').draggable("disable");

    });
</script>
@Html.HiddenFor(model => model.Id)
@Html.HiddenFor(model => model.FormId)
@Html.HiddenFor(model => model.UserId)
@Html.HiddenFor(model => model.Title)
<input id="CreateTime" type="hidden" name="CreateTime" value="2000-1-1" />
<div id="setFormLayout" class="easyui-panel">
    @Html.Raw(ViewBag.Html)
</div>
<table class="formtable">
    <tbody>
        <tr>
            <th>
                @Html.LabelFor(model => model.TimeOut)：
            </th>
          <td>
                @Html.EditorFor(model => model.TimeOut)
            </td>
        </tr>
        <tr><td style='width:100px; text-align:right;'>紧急程度 :</td><td><select name="FormLevel" id="FormLevel"><option value="普通">普通</option><option value="重要">重要</option><option value="紧急">紧急</option></select></td></tr>
    </tbody>
</table>
<hr />
<table class="formtablenormal">
    @Html.Raw(ViewBag.StepCheckMes)
</table>
